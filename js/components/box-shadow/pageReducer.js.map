{"version":3,"sources":["../../../src/components/box-shadow/pageReducer.js"],"names":["A","SET_CURRENT_SHADOW","UPATE_SHADOWS","ADD_SHADOW","REMOVE_SHADOW","UPDATE_CONFIG","DF_INITIAL_VALUE","isInset","gLength","vLength","blurR","spreadR","color","opacity","id","INITIAL_STATE","currentIndex","boxShadows","configStyle","bgColor","boxColor","boxBorderRadius","pageReducer","state","action","type","editIndex","UPDATE_SHADOWS","boxShadow","imArr","update","fromIndex","_initValue","imObj","create","_index","insert","removeIndex","remove","propName","value","Error"],"mappings":"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","sourcesContent":["\r\nimport crId from '../../utils/crId'\r\nimport imArr from '../../utils/im-arr'\r\nimport imObj from '../../utils/im-obj'\r\n\r\nconst A = {\r\n  SET_CURRENT_SHADOW: 'SET_CURRENT_SHADOW',\r\n  UPATE_SHADOWS: 'UPDATE_SHADOWS',\r\n  ADD_SHADOW: 'ADD_SHADOW',\r\n  REMOVE_SHADOW: 'REMOVE_SHADOW',\r\n  UPDATE_CONFIG: 'UPDATE_CONFIG'\r\n};\r\n\r\nconst DF_INITIAL_VALUE = {\r\n  isInset: false,\r\n  gLength: 10,\r\n  vLength: 10,\r\n  blurR: 5,\r\n  spreadR: 0,\r\n  color: '#000000',\r\n  opacity: 0.75,\r\n  id: crId()\r\n}\r\n\r\nconst INITIAL_STATE = {\r\n  currentIndex: 0,\r\n  boxShadows: [ DF_INITIAL_VALUE ],\r\n  configStyle: {\r\n    bgColor: 'gray',\r\n    boxColor: '#e7a61a',\r\n    boxBorderRadius: '0px'\r\n  }\r\n};\r\n\r\nconst pageReducer = (state, action) => {\r\n  switch(action.type){\r\n    case A.SET_CURRENT_SHADOW: {\r\n      const { editIndex } = action;\r\n      return {\r\n        ...state,\r\n        currentIndex: editIndex        \r\n      };\r\n    }\r\n    case A.UPDATE_SHADOWS: {\r\n      const { boxShadow } = action\r\n      , { boxShadows, currentIndex } = state;\r\n      return {\r\n        ...state,\r\n        boxShadows: imArr.update(boxShadows, currentIndex, boxShadow)\r\n      };\r\n    }\r\n    case A.ADD_SHADOW: {\r\n      const { fromIndex } = action\r\n      , { boxShadows, currentIndex } = state\r\n      , _initValue = imObj.create(boxShadows[fromIndex])\r\n      , _index = currentIndex + 1;\r\n      _initValue.id = crId(_index)\r\n      return {\r\n        ...state,\r\n        currentIndex: _index,\r\n        boxShadows: imArr.insert(boxShadows, _index, _initValue)\r\n      };\r\n    }\r\n    case A.REMOVE_SHADOW: {\r\n      const { removeIndex } = action;\r\n      if (removeIndex === 0) { return state; }\r\n      const { boxShadows } = state\r\n      , _index = removeIndex - 1;\r\n      return {\r\n        ...state,\r\n        currentIndex: _index,\r\n        boxShadows: imArr.remove(boxShadows, removeIndex)\r\n      };\r\n    }\r\n    case A.UPDATE_CONFIG: {\r\n      const { propName, value } = action\r\n      , { configStyle } = state;\r\n      return {\r\n        ...state,\r\n        configStyle: imObj.update(configStyle, propName, value)\r\n      };\r\n    }\r\n    default: throw new Error('Unsupported action type: ' + action.type);\r\n  }\r\n};\r\n\r\npageReducer.A = A\r\npageReducer.INITIAL_STATE = INITIAL_STATE\r\n\r\nexport default pageReducer\r\n"],"file":"pageReducer.js"}