{"version":3,"sources":["../../../src/components/zhn/InputSlider.jsx"],"names":["HAS_TOUCH","has","round10","fnMath","toPercent","S","ROOT","position","height","width","marginTop","marginBottom","userSelect","cursor","ROOT_LINE","top","left","touchAction","LINE_BEFORE","marginRight","backgroundColor","transition","LINE_AFTER","right","marginLeft","LINE_HOVERED","ROOT_CIRCLE","boxSizing","zIndex","margin","backgroundClip","border","borderRadius","transform","overflow","outline","pointerEvents","CIRCLE_DRAGGED","CIRCLE_INNER","CIRCLE_INNER_EL","EMBER","_isFn","fn","_addStep","value","step","exp","_crWidthCalc","percent","_crLeftPercent","_crEventNames","moveEvent","upEvent","_isTouchNode","node","_getClientX","event","changedTouches","clientX","InputSlider","props","_handleMouseEnter","setState","hovered","_handleMouseLeave","_handleMouseDown","preventDefault","document","addEventListener","_handleDragMouseMove","_handleDragMouseUp","dragged","_onDragUpdate","removeEventListener","_handleFocusTrack","_handleBlurTrack","_handleKeyDownTrack","keyCode","min","state","_value","stepExp","_setValue","max","dragRunning","requestAnimationFrame","_clientX","_calcTrackOffset","_setValueFromPosition","isOnChange","onChange","_refTrack","current","getBoundingClientRect","positionMax","Math","round","parseFloat","toFixed","_refTouch","arr","split","length","initValue","inputId","componentDidMount","_node","passive","componentWillUnmount","getDerivedStateFromProps","nextProps","render","_lineAfterStyle","_circleStyle","_emberStyle","_percent","_widthBeforeStyle","_widthAfterStyle","_leftStyle","_sliderProps","role","tabIndex","_mouseSlider","onMouseDown","onMouseEnter","onMouseLeave","onKeyDown","onFocus","onBlur","_touchSlider","setValue","Component","defaultProps"],"mappings":"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","sourcesContent":["import { Component, createRef } from 'preact';\r\n\r\nimport fnMath from '../../utils/math'\r\nimport has from '../has';\r\n\r\n/*\r\n Mostly from old version Material-UI\r\n https://github.com/callemall/material-ui/blob/master/src/Slider/Slider.js\r\n*/\r\n\r\nconst { HAS_TOUCH } = has;\r\nconst { round10, toPercent } = fnMath\r\n\r\nconst S = {\r\n  ROOT : {\r\n    position: 'relative',\r\n    height: 18,\r\n    width: '100%',\r\n    marginTop: 8,\r\n    marginBottom: 8,\r\n    userSelect : 'none',\r\n    cursor: 'default'\r\n  },\r\n  ROOT_LINE : {\r\n    position: 'absolute',\r\n    top: 8,\r\n    left: 0,\r\n    width: '100%',\r\n    height: 2,\r\n    touchAction: 'none'\r\n  },\r\n  LINE_BEFORE : {\r\n    position: 'absolute',\r\n    left: 0,\r\n    height: '100%',\r\n    width: 'calc(15%)',\r\n    marginRight: 6,\r\n    backgroundColor: 'rgb(0, 188, 212)',\r\n    transition: 'margin 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms',\r\n  },\r\n  LINE_AFTER : {\r\n    position: 'absolute',\r\n    right: 0,\r\n    height: '100%',\r\n    width: 'calc(85%)',\r\n    marginLeft: 6,\r\n    backgroundColor: 'rgb(189, 189, 189)',\r\n    transition: 'margin 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms',\r\n  },\r\n  LINE_HOVERED : {\r\n    backgroundColor: 'rgb(158, 158, 158)',\r\n  },\r\n  ROOT_CIRCLE : {\r\n    boxSizing: 'borderBox',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: '15%',\r\n    zIndex: 1,\r\n    width: 12,\r\n    height: 12,\r\n    margin: '1px 0px 0px',\r\n    backgroundColor: 'rgb(0, 188, 212)',\r\n    backgroundClip: 'padding-box',\r\n    border: '0px solid transparent',\r\n    borderRadius: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    overflow: 'visible',\r\n    outline: 'none',\r\n    cursor: 'pointer',\r\n    pointerEvents: 'inherit',\r\n    transition: 'background 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms'\r\n  },\r\n  CIRCLE_DRAGGED : {\r\n    width: 20,\r\n    height: 20\r\n  },\r\n  CIRCLE_INNER : {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    height: 12,\r\n    width: 12,\r\n    overflow: 'visible'\r\n  },\r\n  CIRCLE_INNER_EL : {\r\n    position: 'absolute',\r\n    top: -12,\r\n    left: -12,\r\n    height: 36,\r\n    width: '300%',\r\n    borderRadius: '50%',\r\n    //opacity: '0.16',\r\n    backgroundColor: 'rgba(0, 188, 212, 0.16)',\r\n    transform: 'scale(1)'\r\n  },\r\n  EMBER : {\r\n    top: -12 ,\r\n    left: -12,\r\n    height: 44,\r\n    width: '220%',\r\n    border: '1px solid #4caf50'\r\n  }\r\n};\r\n\r\nconst _isFn = fn => typeof fn === 'function';\r\n\r\nconst _addStep = (value, step, exp ) => exp\r\n   ? round10(value + step, exp)\r\n   : value + step;\r\n\r\nconst _crWidthCalc = (percent) => ({\r\n  width: `calc(${percent}%)`\r\n});\r\nconst _crLeftPercent = (percent) => ({\r\n  left: `${percent}%`\r\n});\r\n\r\nconst _crEventNames = () => HAS_TOUCH\r\n ? { moveEvent: 'touchmove', upEvent: 'touchend' }\r\n : { moveEvent: 'mousemove', upEvent: 'mouseup' };\r\n\r\nconst _isTouchNode = (node) => HAS_TOUCH && node;\r\n\r\nconst _getClientX = event => HAS_TOUCH\r\n  ? event.changedTouches[0]?.clientX\r\n  : event.clientX;\r\n\r\nclass InputSlider extends Component {\r\n  /*\r\n  static propTypes = {\r\n    initValue: PropTypes.number,\r\n    step : PropTypes.number,\r\n    min : PropTypes.number,\r\n    max : PropTypes.number,\r\n    onChange : PropTypes.func\r\n  }\r\n  */\r\n\r\n  static defaultProps = {\r\n    initValue: 4,\r\n    min : 0,\r\n    max : 20,\r\n    step : 1\r\n  }\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.isOnChange = _isFn(props.onChange)\r\n\r\n    this._refTrack = createRef()\r\n    this._refTouch = createRef()\r\n\r\n    const arr = (''+props.step).split('.')\r\n    this.stepExp = (arr[1]) ? -1 * arr[1].length : 0\r\n\r\n    this.state = {\r\n      hovered : false,\r\n      dragged : false,\r\n      value : props.initValue,\r\n      inputId: props.inputId\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    const _node = this._refTouch.current;\r\n    if (_isTouchNode(_node)){\r\n      _node.addEventListener('touchstart',\r\n       this._handleMouseDown, { passive: true })\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    const _node = this._refTouch.current;\r\n    if (_isTouchNode(_node)){\r\n      _node.removeEventListener('touchstart',\r\n       this._handleMouseDown)\r\n    }\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, state){\r\n   const { inputId } = nextProps;\r\n   return inputId !== state.inputId\r\n     ? { value: nextProps.initValue, inputId }\r\n     : null;\r\n  }\r\n\r\n  _handleMouseEnter = () => {\r\n    this.setState({ hovered: true })\r\n  }\r\n  _handleMouseLeave = () => {\r\n    this.setState({ hovered: false })\r\n  }\r\n  _handleMouseDown = (event) => {\r\n    // Cancel text selection\r\n    if (!HAS_TOUCH) {\r\n      event.preventDefault()\r\n    }\r\n\r\n    const { moveEvent, upEvent } = _crEventNames();\r\n    document.addEventListener(moveEvent, this._handleDragMouseMove)\r\n    document.addEventListener(upEvent, this._handleDragMouseUp)\r\n    this.setState({\r\n      dragged : true\r\n    })\r\n  }\r\n\r\n  _handleDragMouseMove = (event) => {\r\n    this._onDragUpdate(event)\r\n  }\r\n  _handleDragMouseUp = () => {\r\n     const { moveEvent, upEvent } = _crEventNames();\r\n     document.removeEventListener(moveEvent, this._handleDragMouseMove)\r\n     document.removeEventListener(upEvent, this._handleDragMouseUp)\r\n     this.setState({\r\n       dragged : false\r\n     })\r\n  }\r\n\r\n  _handleFocusTrack = () => {\r\n    this.setState({ hovered: true })\r\n  }\r\n  _handleBlurTrack = () => {\r\n    this.setState({ hovered: false })\r\n  }\r\n  _handleKeyDownTrack = (event) => {\r\n     switch(event.keyCode){\r\n       case 37: {\r\n         const  { min, step } = this.props\r\n              , { value } = this.state;\r\n         if ( value > min) {\r\n           const _value = _addStep(value, -step, this.stepExp)\r\n           this._setValue(event, _value)\r\n         }\r\n         break;\r\n       }\r\n       case 39: {\r\n         const  { max, step } = this.props\r\n              , { value } = this.state;\r\n         if ( value < max) {\r\n           const _value = _addStep(value, step, this.stepExp)\r\n           this._setValue(event, _value)\r\n         }\r\n         break;\r\n       }\r\n       default: return;\r\n     }\r\n  }\r\n\r\n  _onDragUpdate = (event) => {\r\n    if (this.dragRunning) {\r\n      return;\r\n    }\r\n    this.dragRunning = true;\r\n    requestAnimationFrame(() => {\r\n      this.dragRunning = false;\r\n      const _clientX = _getClientX(event);\r\n      if (_clientX) {\r\n        const position = _clientX - this._calcTrackOffset()\r\n        this._setValueFromPosition(event, position)\r\n      }\r\n    })\r\n  }\r\n\r\n  _setValue = (event, value) => {\r\n    this.setState({ value })\r\n    if (this.isOnChange){\r\n      this.props.onChange(event, value)\r\n    }\r\n  }\r\n\r\n  _calcTrackOffset = () => {\r\n    return this._refTrack.current.getBoundingClientRect()['left'];\r\n  }\r\n\r\n  _setValueFromPosition = (event, position) => {\r\n    const positionMax = this._refTrack.current['clientWidth']\r\n    if (position < 0) {\r\n      position = 0;\r\n    } else if (position > positionMax) {\r\n      position = positionMax\r\n    }\r\n\r\n    const { step, min, max } = this.props\r\n    let value\r\n    value = position/positionMax * (max - min)\r\n    value = Math.round(value / step) * step + min\r\n    value = parseFloat(value.toFixed(5))\r\n\r\n    if (value > max) {\r\n      value = max\r\n    } else if (value < min ) {\r\n      value = min\r\n    }\r\n\r\n    if (this.state.value !== value) {\r\n      this._setValue(event, value)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { step, min , max } = this.props\r\n    , { hovered, dragged, value } = this.state\r\n    , _lineAfterStyle = (hovered)\r\n          ? {...S.LINE_AFTER, ...S.LINE_HOVERED}\r\n          : S.LINE_AFTER\r\n    , _circleStyle = dragged ? S.CIRCLE_DRAGGED : null\r\n    , _emberStyle = dragged ? S.EMBER : null\r\n    , _percent = toPercent(value, min, max)\r\n    , _widthBeforeStyle = _crWidthCalc(_percent)\r\n    , _widthAfterStyle = _crWidthCalc(100 - _percent)\r\n    , _leftStyle = _crLeftPercent(_percent)\r\n    , _sliderProps = {\r\n        role: \"slider\",\r\n        tabIndex: \"0\",\r\n        'aria-orientation': \"horizontal\",\r\n        'aria-valuemax': max,\r\n        'aria-valuemin': min,\r\n        'aria-valuenow': value\r\n      }\r\n    , _mouseSlider = HAS_TOUCH\r\n        ? void 0\r\n        : {\r\n          ..._sliderProps,\r\n          onMouseDown: this._handleMouseDown,\r\n          onMouseEnter: this._handleMouseEnter,\r\n          onMouseLeave: this._handleMouseLeave,\r\n          onKeyDown: this._handleKeyDownTrack,\r\n          onFocus: this._handleFocusTrack,\r\n          onBlur: this._handleBlurTrack\r\n        }\r\n    , _touchSlider = HAS_TOUCH\r\n        ? _sliderProps\r\n        : void 0;\r\n\r\n    return (\r\n      <div style={S.ROOT}>\r\n        <div\r\n           ref={this._refTrack}\r\n           style={S.ROOT_LINE}\r\n           {..._mouseSlider}\r\n        >\r\n          <div style={{...S.LINE_BEFORE, ..._widthBeforeStyle }} />\r\n          <div style={{..._lineAfterStyle, ..._widthAfterStyle }} />\r\n          <div\r\n            ref={this._refTouch}\r\n             style={{...S.ROOT_CIRCLE, ..._circleStyle, ..._leftStyle }}\r\n             {..._touchSlider}\r\n           >\r\n            <div style={{ ...S.CIRCLE_INNER, ..._circleStyle}} >\r\n              { (hovered || dragged) && <div\r\n                    style={{ ...S.CIRCLE_INNER_EL, ..._emberStyle }}\r\n                 />\r\n               }\r\n            </div>\r\n          </div>\r\n          <input\r\n            type=\"hidden\"\r\n            step={step}\r\n            min={min}\r\n            max={max}\r\n            value={value}\r\n            required={true}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  setValue(value){\r\n    this.setState({ value })\r\n  }\r\n\r\n}\r\n\r\nexport default InputSlider\r\n"],"file":"InputSlider.js"}